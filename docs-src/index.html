<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Jimple - Lightweight Dependency Injection for TypeScript and JavaScript
    </title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <nav class="nav">
          <a href="#" class="logo">Jimple</a>
          <!-- Mobile menu button -->
          <button class="mobile-menu-btn" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
          <ul class="nav-links">
            <li><a href="#quick-start">Quick Start</a></li>
            <li><a href="#docs">Guide</a></li>
            <li><a href="api/">API Docs</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="https://github.com/fjorgemota/jimple">GitHub</a></li>
          </ul>
          <button
            id="theme-toggle"
            aria-label="Switch theme"
            title="Switch theme"
          >
            üåô
          </button>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1>Jimple</h1>
        <p>
          Lightweight, powerful dependency injection container for Node.js and
          browsers
        </p>

        <div class="badges">
          <span class="badge">~1KB minified</span>
          <span class="badge">Zero dependencies</span>
          <span class="badge">TypeScript support</span>
          <span class="badge">Universal</span>
        </div>

        <div class="cta-buttons">
          <a href="#quick-start" class="btn btn-primary">Get Started</a>
          <a
            href="https://github.com/fjorgemota/jimple"
            class="btn btn-secondary"
            >View on GitHub</a
          >
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features">
      <div class="container">
        <h2 class="features-title">Features</h2>
        <div class="features-grid">
          <div class="feature">
            <div class="feature-icon">‚ö°</div>
            <h3>Lightweight</h3>
            <p>~1KB minified and gzipped with zero dependencies</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üåê</div>
            <h3>Universal</h3>
            <p>Works seamlessly in Node.js and browsers</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üî∑</div>
            <h3>TypeScript</h3>
            <p>Fully typed with excellent IDE support</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üéØ</div>
            <h3>ES6 Proxy</h3>
            <p>Modern syntax with property access</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üß™</div>
            <h3>Well Tested</h3>
            <p>100% code coverage and stable API</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üîß</div>
            <h3>Extensible</h3>
            <p>Easy to extend and customize</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Content -->
    <div class="container">
      <div class="main">
        <!-- Sidebar -->
        <aside class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
            <li><a href="#why-di">Why Dependency Injection?</a></li>
            <li><a href="#quick-start">Quick Start</a></li>
            <li><a href="#installation">Installation</a></li>
            <li><a href="#core-concepts">Core Concepts</a></li>
            <li><a href="#advanced-features">Advanced Features</a></li>
            <li><a href="#proxy-mode">ES6 Proxy Mode</a></li>
            <li><a href="#typescript">TypeScript Support</a></li>
            <li><a href="#providers">Providers</a></li>
            <li><a href="#api-reference">API Reference</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#documentation">Documentation</a></li>
          </ul>
        </aside>

        <!-- Content -->
        <main class="content" id="docs">
          <!-- Why Dependency Injection -->
          <section class="section" id="why-di">
            <h2>Why Dependency Injection?</h2>
            <p>
              Dependency injection helps you write more maintainable, testable
              code by:
            </p>
            <ul>
              <li>
                <strong>Decoupling components</strong> - Services don't need to
                know how their dependencies are created
              </li>
              <li>
                <strong>Improving testability</strong> - Easy to swap
                dependencies with mocks during testing
              </li>
              <li>
                <strong>Managing complexity</strong> - Centralized configuration
                of how objects are wired together
              </li>
              <li>
                <strong>Lazy loading</strong> - Services are only created when
                needed
              </li>
              <li>
                <strong>Singleton by default</strong> - Same instance returned
                on subsequent calls
              </li>
              <li>
                <strong>Dependency management</strong> - Services can depend on
                other services
              </li>
            </ul>
          </section>

          <!-- Quick Start -->
          <section class="section" id="quick-start">
            <h2>Quick Start</h2>
            <p>Get up and running with Jimple in minutes:</p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Interactive Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="quickstart-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="quickstart-output">
                Click "Run" to execute the code
              </div>
            </div>
          </section>

          <!-- Installation -->
          <section class="section" id="installation">
            <h2>Installation</h2>

            <div class="install-tabs">
              <div class="tab-buttons">
                <button class="tab-btn active" data-tab="npm">npm</button>
                <button class="tab-btn" data-tab="pnpm">pnpm</button>
                <button class="tab-btn" data-tab="yarn">yarn</button>
                <button class="tab-btn" data-tab="bun">bun</button>
              </div>
              <div class="tab-content">
                <div class="tab-pane active" id="tab-npm">
                  <pre><code>npm install jimple@2.0.0-beta.3</code></pre>
                </div>
                <div class="tab-pane" id="tab-pnpm">
                  <pre><code>pnpm add jimple@2.0.0-beta.3</code></pre>
                </div>
                <div class="tab-pane" id="tab-yarn">
                  <pre><code>yarn add jimple@2.0.0-beta.3</code></pre>
                </div>
                <div class="tab-pane" id="tab-bun">
                  <pre><code>bun add jimple@2.0.0-beta.3</code></pre>
                </div>
              </div>
            </div>

            <h3>CDN (Browser)</h3>
            <pre><code>&lt;script src="https://cdn.jsdelivr.net/npm/jimple@latest/src/Jimple.js"&gt;&lt;/script&gt;</code></pre>
            <p>
              <strong>‚ö†Ô∏è Production Warning:</strong> Replace
              <code class="inline-code">latest</code> with a specific version
              for production use.
            </p>

            <h3>Import Methods</h3>
            <pre><code>// ES6 Modules
import Jimple from "jimple";

// CommonJS
const Jimple = require("jimple");

// AMD
define(["jimple"], function(Jimple) {
  // Your code here
});</code></pre>
          </section>

          <!-- Core Concepts -->
          <section class="section" id="core-concepts">
            <h2>Core Concepts</h2>

            <h3>Services</h3>
            <p>
              Services are objects that perform tasks in your application.
              They're defined as functions that return the service instance:
            </p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Services Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="services-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="services-output">
                Click "Run" to execute the code
              </div>
            </div>

            <h3>Parameters</h3>
            <p>
              Parameters store configuration values, strings, numbers, or any
              non-function data:
            </p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Parameters Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="parameters-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="parameters-output">
                Click "Run" to execute the code
              </div>
            </div>

            <h3>Factory Services</h3>
            <p>
              When you need a <strong>new instance</strong> every time instead
              of a singleton:
            </p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Factory Services Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="factory-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="factory-output">
                Click "Run" to execute the code
              </div>
            </div>
          </section>

          <!-- Advanced Features -->
          <section class="section" id="advanced-features">
            <h2>Advanced Features</h2>

            <h3>Protecting Functions</h3>
            <p>
              To store an actual function (not a service factory) as a
              parameter:
            </p>
            <pre><code>container.set('utility', container.protect(() => {
  return Math.random() * 100;
}));

const utilityFn = container.get('utility'); // Returns the function itself
const result = utilityFn(); // Call the function</code></pre>

            <h3>Extending Services</h3>
            <p>Add behavior to existing services:</p>
            <pre><code>container.set('logger', (c) => new Logger());

// Extend the logger to add file output
container.extend('logger', (logger, c) => {
  logger.addFileHandler('/var/log/app.log');
  return logger;
});</code></pre>

            <h3>Optional Dependencies & Defaults</h3>
            <p>Handle optional services with fallbacks:</p>
            <pre><code>container.set('cache', (c) => {
  if (c.has('redisConfig')) {
    return new RedisCache(c.get('redisConfig'));
  }
  return new MemoryCache(); // Fallback
});</code></pre>

            <h3>Raw Service Access</h3>
            <p>
              Get the service definition function instead of the service itself:
            </p>
            <pre><code>container.set('database', (c) => new Database());

const dbFactory = container.raw('database');
const db1 = dbFactory(container);
const db2 = dbFactory(container); // Create another instance manually</code></pre>
          </section>

          <!-- ES6 Proxy Mode -->
          <section class="section" id="proxy-mode">
            <h2>ES6 Proxy Mode</h2>
            <p>Use modern JavaScript syntax for a more natural API:</p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Proxy Mode Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="proxy-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="proxy-output">
                Click "Run" to execute the code
              </div>
            </div>

            <p><strong>Limitations:</strong></p>
            <ul>
              <li>
                Can't overwrite built-in methods (<code class="inline-code"
                  >set</code
                >, <code class="inline-code">get</code>, etc.)
              </li>
              <li>Accessing non-existent properties throws an error</li>
              <li>TypeScript requires special handling (see below)</li>
            </ul>
          </section>

          <!-- TypeScript Support -->
          <section class="section" id="typescript">
            <h2>TypeScript Support</h2>
            <p>
              Jimple provides full TypeScript support with interface
              definitions:
            </p>

            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">TypeScript Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="typescript">
                    TypeScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="typescript-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="typescript-output">
                Click "Run" to execute the code
              </div>
            </div>
          </section>

          <!-- API Reference -->
          <section class="section" id="api-reference">
            <h2>API Reference</h2>
            <h3>Container Methods</h3>
            <table class="api-table">
              <thead>
                <tr>
                  <th>Method</th>
                  <th>Description</th>
                  <th>Returns</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>set(id, value)</code></td>
                  <td>Define a service or parameter</td>
                  <td><code>void</code></td>
                </tr>
                <tr>
                  <td><code>get(id)</code></td>
                  <td>Retrieve a service or parameter</td>
                  <td><code>any</code></td>
                </tr>
                <tr>
                  <td><code>has(id)</code></td>
                  <td>Check if service/parameter exists</td>
                  <td><code>boolean</code></td>
                </tr>
                <tr>
                  <td><code>factory(fn)</code></td>
                  <td>Create a factory service</td>
                  <td><code>Function</code></td>
                </tr>
                <tr>
                  <td><code>protect(fn)</code></td>
                  <td>Protect a function from being treated as service</td>
                  <td><code>Function</code></td>
                </tr>
                <tr>
                  <td><code>extend(id, fn)</code></td>
                  <td>Extend an existing service</td>
                  <td><code>void</code></td>
                </tr>
                <tr>
                  <td><code>raw(id)</code></td>
                  <td>Get the raw service definition</td>
                  <td><code>Function</code></td>
                </tr>
                <tr>
                  <td><code>register(provider)</code></td>
                  <td>Register a service provider</td>
                  <td><code>void</code></td>
                </tr>
              </tbody>
            </table>

            <div class="api-details-box">
              <h4 class="api-details-title">Need More Details?</h4>
              <p class="api-details-desc">For complete API documentation with detailed examples and type definitions:</p>
              <a href="api/" class="btn btn-primary api-details-link">View Full API Documentation ‚Üí</a>
            </div>
          </section>

          <!-- Examples -->
          <section class="section" id="examples">
            <h2>More Examples</h2>

            <h3>Express.js Web Server</h3>
            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Express.js Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="express-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="express-output">
                Click "Run" to execute the code
              </div>
            </div>

            <h3>Testing with Mocks</h3>
            <div class="playground">
              <div class="playground-header">
                <span class="playground-title">Testing Example</span>
                <div class="playground-buttons">
                  <button class="playground-btn active" data-lang="javascript">
                    JavaScript
                  </button>
                </div>
              </div>
              <iframe
                class="editor-container"
                id="testing-editor"
                border="0"
                loading="lazy"
              ></iframe>
              <div class="output" id="testing-output">
                Click "Run" to execute the code
              </div>
            </div>
          </section>

          <!-- Documentation Links -->
          <section class="section" id="documentation">
            <h2>Documentation</h2>
            <div class="documentation-links">
              <div class="documentation-card">
                <div class="documentation-card-icon">üìñ</div>
                <h3 class="documentation-card-title">Interactive Guide</h3>
                <p class="documentation-card-desc">This page! Learn Jimple with live examples, tutorials, and hands-on code playgrounds.</p>
                <a href="#quick-start" class="btn documentation-card-link-primary">Start Learning</a>
              </div>
              <div class="documentation-card">
                <div class="documentation-card-icon">üìö</div>
                <h3 class="documentation-card-title">Complete API Reference</h3>
                <p class="documentation-card-desc">Detailed JSDoc documentation with full method signatures, parameters, and comprehensive examples.</p>
                <a href="api/" class="btn documentation-card-link-accent">View API Docs</a>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>
    <script type="module" src="scripts/main.js"></script>
  </body>
</html>
